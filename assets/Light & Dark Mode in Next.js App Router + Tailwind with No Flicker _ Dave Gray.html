<!DOCTYPE html>
<!-- saved from url=(0075)https://www.davegray.codes/posts/light-dark-mode-nextjs-app-router-tailwind -->
<html lang="en" class="__className_ee270e light" style="color-scheme: light;"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1"><link rel="preload" href="https://www.davegray.codes/_next/static/media/a48d7de5fcdf911f-s.p.woff2" as="font" crossorigin="" type="font/woff2"><link rel="preload" as="image" href="https://raw.githubusercontent.com/gitdagray/my-blogposts/main/images/light-dark-mode-nextjs-app-router-tailwind.png"><link rel="stylesheet" href="./Light &amp; Dark Mode in Next.js App Router + Tailwind with No Flicker _ Dave Gray_files/51a56b232209b0a7.css" data-precedence="next"><link rel="stylesheet" href="./Light &amp; Dark Mode in Next.js App Router + Tailwind with No Flicker _ Dave Gray_files/5eacd01f773eed7f.css" data-precedence="next"><link rel="preload" as="script" fetchpriority="low" href="./Light &amp; Dark Mode in Next.js App Router + Tailwind with No Flicker _ Dave Gray_files/webpack-f1ff3f331bdb6737.js.download"><script src="./Light &amp; Dark Mode in Next.js App Router + Tailwind with No Flicker _ Dave Gray_files/fd9d1056-630d079fe27a54fd.js.download" async=""></script><script src="./Light &amp; Dark Mode in Next.js App Router + Tailwind with No Flicker _ Dave Gray_files/117-eb55a3ba8a0fc477.js.download" async=""></script><script src="./Light &amp; Dark Mode in Next.js App Router + Tailwind with No Flicker _ Dave Gray_files/main-app-2dcde4753ea0d175.js.download" async=""></script><script src="./Light &amp; Dark Mode in Next.js App Router + Tailwind with No Flicker _ Dave Gray_files/972-0bc7d00e52d34666.js.download" async=""></script><script src="./Light &amp; Dark Mode in Next.js App Router + Tailwind with No Flicker _ Dave Gray_files/page-ca6c4f80dfe019e3.js.download" async=""></script><script src="./Light &amp; Dark Mode in Next.js App Router + Tailwind with No Flicker _ Dave Gray_files/error-531c88f60fa6c0c5.js.download" async=""></script><link rel="preload" href="https://www.googletagmanager.com/gtm.js?id=G-570ZF8G2JR" as="script"><title>Light &amp; Dark Mode in Next.js App Router + Tailwind with No Flicker | Dave Gray</title><meta name="description" content="You can toggle light and dark mode themes in Next.js + TailwindCSS while avoiding a page flicker."><meta name="application-name" content="Dave Gray&#39;s Blog"><meta name="author" content="Dave Gray"><link rel="manifest" href="https://www.davegray.codes/manifest.webmanifest" crossorigin="use-credentials"><meta name="generator" content="Next.js"><meta name="keywords" content="webdev,react,nextjs,tailwindcss,blog"><meta name="referrer" content="origin-when-cross-origin"><meta name="creator" content="Dave Gray"><meta name="publisher" content="Dave Gray"><meta name="robots" content="index, follow"><meta name="googlebot" content="index, follow, max-video-preview:-1, max-image-preview:large, max-snippet:-1"><link rel="canonical" href="https://www.davegray.codes/posts/light-dark-mode-nextjs-app-router-tailwind"><link rel="alternate" type="application/rss+xml" href="https://www.davegray.codes/feed.xml"><meta name="google-site-verification" content="py8IGKH0Z-P_AY-wa8R7GiHbXxS12LA_Q3mbD-QmUuk"><meta name="yandex-verification" content="953e838be963cb87"><meta property="og:title" content="Light &amp; Dark Mode in Next.js App Router + Tailwind with No Flicker"><meta property="og:description" content="You can toggle light and dark mode themes in Next.js + TailwindCSS while avoiding a page flicker."><meta property="og:url" content="https://www.davegray.codes/posts/light-dark-mode-nextjs-app-router-tailwind"><meta property="og:site_name" content="Dave Gray&#39;s Blog"><meta property="og:image" content="https://raw.githubusercontent.com/gitdagray/my-blogposts/main/images/light-dark-mode-nextjs-app-router-tailwind.png"><meta property="og:image:secure_url" content="https://raw.githubusercontent.com/gitdagray/my-blogposts/main/images/light-dark-mode-nextjs-app-router-tailwind.png"><meta property="og:image:width" content="1200"><meta property="og:image:height" content="630"><meta property="og:image:alt" content="Preview image for Light &amp; Dark Mode in Next.js App Router + Tailwind with No Flicker"><meta property="og:type" content="article"><meta property="article:published_time" content="2023-12-04T00:00:00.000Z"><meta property="article:modified_time" content="2023-12-15T00:00:00.000Z"><meta property="article:author" content="Dave Gray"><meta name="twitter:card" content="summary_large_image"><meta name="twitter:site" content="@yesdavidgray"><meta name="twitter:creator" content="@yesdavidgray"><meta name="twitter:title" content="Light &amp; Dark Mode in Next.js App Router + Tailwind with No Flicker"><meta name="twitter:description" content="You can toggle light and dark mode themes in Next.js + TailwindCSS while avoiding a page flicker."><meta name="twitter:image" content="https://raw.githubusercontent.com/gitdagray/my-blogposts/main/images/light-dark-mode-nextjs-app-router-tailwind.png"><meta name="twitter:image:alt" content="Preview image for Light &amp; Dark Mode in Next.js App Router + Tailwind with No Flicker"><link rel="icon" href="https://www.davegray.codes/favicon.ico" type="image/x-icon" sizes="48x48"><link rel="icon" href="https://www.davegray.codes/icon.svg?3c76353a766c6496" type="image/svg+xml" sizes="any"><link rel="apple-touch-icon" href="https://www.davegray.codes/apple-icon.png?ebbb82dc3cc1b5eb" type="image/png" sizes="180x180"><meta name="next-size-adjust"><script src="./Light &amp; Dark Mode in Next.js App Router + Tailwind with No Flicker _ Dave Gray_files/polyfills-42372ed130431b0a.js.download" nomodule=""></script></head><body><script>!function(){try{var d=document.documentElement,c=d.classList;c.remove('light','dark');var e=localStorage.getItem('theme');if('system'===e||(!e&&true)){var t='(prefers-color-scheme: dark)',m=window.matchMedia(t);if(m.media!==t||m.matches){d.style.colorScheme = 'dark';c.add('dark')}else{d.style.colorScheme = 'light';c.add('light')}}else if(e){c.add(e|| '')}if(e==='light'||e==='dark')d.style.colorScheme=e}catch(e){}}()</script><div class="bg-background border-b border-border sm:h-[66px] p-2 sticky top-0 z-10"><div class="md:px-6 prose prose-xl mx-auto flex justify-between items-center flex-col sm:flex-row sm:h-[50px]"><a class="no-underline font-bold w-2/5 gap-4 hidden sm:flex dark:text-foreground" href="https://www.davegray.codes/"><div class="hidden sm:block"><img class="border-border sm:border-2 rounded-full m-0" src="./Light &amp; Dark Mode in Next.js App Router + Tailwind with No Flicker _ Dave Gray_files/blog-profile-1080x1080.png" width="50" height="50" alt="Dave Gray" title="Dave Gray" loading="lazy"></div><p class="text-3xl font-bold grid place-content-center my-1">Dave Gray</p></a><nav class="flex flex-row flex-wrap justify-center items-center sm:justify-evenly align-middle text-3xl sm:text-4x"><div><a class="sm:hidden dark:text-foreground" href="https://www.davegray.codes/"><button class="inline-flex items-center justify-center whitespace-nowrap text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 hover:bg-accent hover:text-accent-foreground h-10 w-10 rounded-full" aria-label="Home" title="Home"><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 576 512" class="w-[24px] h-[24px]" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path d="M280.37 148.26L96 300.11V464a16 16 0 0 0 16 16l112.06-.29a16 16 0 0 0 15.92-16V368a16 16 0 0 1 16-16h64a16 16 0 0 1 16 16v95.64a16 16 0 0 0 16 16.05L464 480a16 16 0 0 0 16-16V300L295.67 148.26a12.19 12.19 0 0 0-15.3 0zM571.6 251.47L488 182.56V44.05a12 12 0 0 0-12-12h-56a12 12 0 0 0-12 12v72.61L318.47 43a48 48 0 0 0-61 0L4.34 251.47a12 12 0 0 0-1.6 16.9l25.5 31A12 12 0 0 0 45.15 301l235.22-193.74a12.19 12.19 0 0 1 15.3 0L530.9 301a12 12 0 0 0 16.9-1.6l25.5-31a12 12 0 0 0-1.7-16.93z"></path></svg><span class="sr-only">Home</span></button></a><a class="dark:text-foreground" href="https://www.youtube.com/@DaveGrayTeachesCode"><button class="inline-flex items-center justify-center whitespace-nowrap text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 hover:bg-accent hover:text-accent-foreground h-10 w-10 rounded-full" aria-label="YouTube Channel" title="YouTube Channel"><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 576 512" class="w-[24px] h-[24px]" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path d="M549.655 124.083c-6.281-23.65-24.787-42.276-48.284-48.597C458.781 64 288 64 288 64S117.22 64 74.629 75.486c-23.497 6.322-42.003 24.947-48.284 48.597-11.412 42.867-11.412 132.305-11.412 132.305s0 89.438 11.412 132.305c6.281 23.65 24.787 41.5 48.284 47.821C117.22 448 288 448 288 448s170.78 0 213.371-11.486c23.497-6.321 42.003-24.171 48.284-47.821 11.412-42.867 11.412-132.305 11.412-132.305s0-89.438-11.412-132.305zm-317.51 213.508V175.185l142.739 81.205-142.739 81.201z"></path></svg><span class="sr-only">YouTube Channel</span></button></a><a class="dark:text-foreground" href="https://courses.davegray.codes/"><button class="inline-flex items-center justify-center whitespace-nowrap text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 hover:bg-accent hover:text-accent-foreground h-10 w-10 rounded-full" aria-label="Courses" title="Courses"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-graduation-cap "><path d="M22 10v6M2 10l10-5 10 5-10 5z"></path><path d="M6 12v5c3 3 9 3 12 0v-5"></path></svg><span class="sr-only">Courses</span></button></a><a class="dark:text-foreground" href="https://github.com/gitdagray"><button class="inline-flex items-center justify-center whitespace-nowrap text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 hover:bg-accent hover:text-accent-foreground h-10 w-10 rounded-full" aria-label="GitHub" title="GitHub"><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 496 512" class="w-[24px] h-[24px]" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"></path></svg><span class="sr-only">GitHub</span></button></a><a class="dark:text-foreground" href="https://twitter.com/yesdavidgray"><button class="inline-flex items-center justify-center whitespace-nowrap text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 hover:bg-accent hover:text-accent-foreground h-10 w-10 rounded-full" aria-label="X-Twitter" title="X-Twitter"><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 512 512" class="w-[24px] h-[24px]" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path d="M389.2 48h70.6L305.6 224.2 487 464H345L233.7 318.6 106.5 464H35.8L200.7 275.5 26.8 48H172.4L272.9 180.9 389.2 48zM364.4 421.8h39.1L151.1 88h-42L364.4 421.8z"></path></svg><span class="sr-only">X-Twitter</span></button></a></div><div><a class="dark:text-foreground" href="https://discord.gg/neKghyefqh"><button class="inline-flex items-center justify-center whitespace-nowrap text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 hover:bg-accent hover:text-accent-foreground h-10 w-10 rounded-full" aria-label="Discord" title="Discord"><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 640 512" class="w-[24px] h-[24px]" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path d="M524.531,69.836a1.5,1.5,0,0,0-.764-.7A485.065,485.065,0,0,0,404.081,32.03a1.816,1.816,0,0,0-1.923.91,337.461,337.461,0,0,0-14.9,30.6,447.848,447.848,0,0,0-134.426,0,309.541,309.541,0,0,0-15.135-30.6,1.89,1.89,0,0,0-1.924-.91A483.689,483.689,0,0,0,116.085,69.137a1.712,1.712,0,0,0-.788.676C39.068,183.651,18.186,294.69,28.43,404.354a2.016,2.016,0,0,0,.765,1.375A487.666,487.666,0,0,0,176.02,479.918a1.9,1.9,0,0,0,2.063-.676A348.2,348.2,0,0,0,208.12,430.4a1.86,1.86,0,0,0-1.019-2.588,321.173,321.173,0,0,1-45.868-21.853,1.885,1.885,0,0,1-.185-3.126c3.082-2.309,6.166-4.711,9.109-7.137a1.819,1.819,0,0,1,1.9-.256c96.229,43.917,200.41,43.917,295.5,0a1.812,1.812,0,0,1,1.924.233c2.944,2.426,6.027,4.851,9.132,7.16a1.884,1.884,0,0,1-.162,3.126,301.407,301.407,0,0,1-45.89,21.83,1.875,1.875,0,0,0-1,2.611,391.055,391.055,0,0,0,30.014,48.815,1.864,1.864,0,0,0,2.063.7A486.048,486.048,0,0,0,610.7,405.729a1.882,1.882,0,0,0,.765-1.352C623.729,277.594,590.933,167.465,524.531,69.836ZM222.491,337.58c-28.972,0-52.844-26.587-52.844-59.239S193.056,219.1,222.491,219.1c29.665,0,53.306,26.82,52.843,59.239C275.334,310.993,251.924,337.58,222.491,337.58Zm195.38,0c-28.971,0-52.843-26.587-52.843-59.239S388.437,219.1,417.871,219.1c29.667,0,53.307,26.82,52.844,59.239C470.715,310.993,447.538,337.58,417.871,337.58Z"></path></svg><span class="sr-only">Discord</span></button></a><a class="dark:text-foreground" href="https://www.patreon.com/davegray"><button class="inline-flex items-center justify-center whitespace-nowrap text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 hover:bg-accent hover:text-accent-foreground h-10 w-10 rounded-full" aria-label="Patreon" title="Patreon"><svg stroke="currentColor" fill="none" stroke-width="2" viewBox="0 0 24 24" stroke-linecap="round" stroke-linejoin="round" class="w-[24px] h-[24px]" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path stroke="none" d="M0 0h24v24H0z" fill="none"></path><path d="M20 8.408c-.003 -2.299 -1.746 -4.182 -3.79 -4.862c-2.54 -.844 -5.888 -.722 -8.312 .453c-2.939 1.425 -3.862 4.545 -3.896 7.656c-.028 2.559 .22 9.297 3.92 9.345c2.75 .036 3.159 -3.603 4.43 -5.356c.906 -1.247 2.071 -1.599 3.506 -1.963c2.465 -.627 4.146 -2.626 4.142 -5.273z"></path></svg><span class="sr-only">Patreon</span></button></a><a class="dark:text-foreground" href="https://www.buymeacoffee.com/davegray"><button class="inline-flex items-center justify-center whitespace-nowrap text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 hover:bg-accent hover:text-accent-foreground h-10 w-10 rounded-full" aria-label="Buy Me A Coffee" title="Buy Me A Coffee"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-coffee "><path d="M17 8h1a4 4 0 1 1 0 8h-1"></path><path d="M3 8h14v9a4 4 0 0 1-4 4H7a4 4 0 0 1-4-4Z"></path><line x1="6" x2="6" y1="2" y2="4"></line><line x1="10" x2="10" y1="2" y2="4"></line><line x1="14" x2="14" y1="2" y2="4"></line></svg><span class="sr-only">Buy Me A Coffee</span></button></a><a class="dark:text-foreground" href="https://topmate.io/davegray"><button class="inline-flex items-center justify-center whitespace-nowrap text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 hover:bg-accent hover:text-accent-foreground h-10 w-10 rounded-full" aria-label="Book a One-on-One Meeting" title="1:1 Meeting"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-calendar-plus "><path d="M21 13V6a2 2 0 0 0-2-2H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h8"></path><line x1="16" x2="16" y1="2" y2="6"></line><line x1="8" x2="8" y1="2" y2="6"></line><line x1="3" x2="21" y1="10" y2="10"></line><line x1="19" x2="19" y1="16" y2="22"></line><line x1="16" x2="22" y1="19" y2="19"></line></svg><span class="sr-only">Book a One-on-One Meeting</span></button></a><span class="dark:text-foreground"><button class="inline-flex items-center justify-center whitespace-nowrap text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 hover:bg-accent hover:text-accent-foreground h-10 w-10 rounded-full" aria-label="Toggle Theme" title="Toggle Theme"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-sun h-6 w-6 rotate-90 scale-0 transition-all dark:rotate-0 dark:scale-100"><circle cx="12" cy="12" r="4"></circle><path d="M12 2v2"></path><path d="M12 20v2"></path><path d="m4.93 4.93 1.41 1.41"></path><path d="m17.66 17.66 1.41 1.41"></path><path d="M2 12h2"></path><path d="M20 12h2"></path><path d="m6.34 17.66-1.41 1.41"></path><path d="m19.07 4.93-1.41 1.41"></path></svg><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-moon absolute h-6 w-6 rotate-0 scale-100 transition-all dark:-rotate-90 dark:scale-0"><path d="M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z"></path></svg><span class="sr-only">Toggle Theme</span></button></span></div></nav></div></div><main class="px-4 md:px-6 prose prose-xl prose-slate prose-a:no-underline dark:prose-invert mx-auto"><div class="w-full h-full"><img class="rounded-lg mx-auto" src="https://raw.githubusercontent.com/gitdagray/my-blogposts/main/images/light-dark-mode-nextjs-app-router-tailwind.png" alt="Light &amp; Dark Mode in Next.js App Router + Tailwind with No Flicker" title="Light &amp; Dark Mode in Next.js App Router + Tailwind with No Flicker" width="1200" height="630" loading="eager" style="max-width:100%;height:auto"></div><h1 class="text-4xl sm:text-5xl sm:leading-[64px] mt-4 mb-0 break-words">Light &amp; Dark Mode in Next.js App Router + Tailwind with No Flicker</h1><p class="mt-3 mb-0 text-base flex flex-col-reverse sm:flex-row gap-2 sm:gap-4"><span>December 4, 2023<!-- --> by <a href="https://www.davegray.codes/">Dave Gray</a></span><span>📖 5 min read</span></p><div class="prose-lg sm:prose-2xl sm:leading-[38.4px] break-words"><article><p>Applying light and <a href="https://tailwindcss.com/docs/dark-mode">dark mode</a> themes with TailwindCSS is easy. However, if you want to allow users to toggle between light and dark mode themes while also identifying the system preference setting at load time and avoiding a page flicker, things get a little more complicated.</p>
<h2 id="why-this-is-challenging"><a href="https://www.davegray.codes/posts/light-dark-mode-nextjs-app-router-tailwind#why-this-is-challenging">Why This Is Challenging</a></h2>
<p>Next.js <a href="https://nextjs.org/docs/app/building-your-application/upgrading/app-router-migration#static-site-generation-getstaticprops">generates static pages</a> on the server before sending them to the browser (aka "the client"). This helps keep things fast and websites seem snappy, but the server cannot read what user preferences will be. The server has no idea in advance that John prefers light-mode in his browser and Jane prefers dark-mode in her browser.</p>
<p>The best you can do is apply the <a href="https://tailwindcss.com/docs/dark-mode">TailwindCSS dark mode</a> variant in advance that will read the <a href="https://developer.mozilla.org/en-US/docs/Web/CSS/@media/prefers-color-scheme">prefers-color-scheme</a> user system setting and apply the dark mode theme if that is preferred.</p>
<p>When you want to allow a user to manually toggle the light-dark mode theme setting, you need to read the system preference first. If they do toggle the setting, you want to save the new setting in <a href="https://developer.mozilla.org/en-US/docs/Web/API/Window/localStorage"><code>localStorage</code></a>. However, <code>localStorage</code> is only available in the browser. Your server components won't be able to read this setting, and this situation can cause a theme <em>flash</em> when your site loads due to an incorrect theme being applied for a split second.</p>
<p>Fortunately, the <a href="https://github.com/pacocoursey/next-themes">next-themes</a> package can help avoid this issue while allowing users the ability to toggle between light and dark mode in your Next.js website.</p>
<p>Here's how I applied <code>next-themes</code> with TailwindCSS to my blog:</p>
<h2 id="1-edit-your-tailwindcss-config-file"><a href="https://www.davegray.codes/posts/light-dark-mode-nextjs-app-router-tailwind#1-edit-your-tailwindcss-config-file">1. Edit your TailwindCSS config file</a></h2>
<p>You need to make one addition to your <code>tailwind.config.ts</code> file if you want to <a href="https://tailwindcss.com/docs/dark-mode#toggling-dark-mode-manually">toggle dark mode manually</a>. You must add a <code>darkMode</code> setting with a <code>class</code> value.</p>
<pre><code class="hljs language-ts"><span class="hljs-comment">// tailwind.config.ts </span>
<span class="hljs-comment">/** <span class="hljs-doctag">@type</span> {<span class="hljs-type">import('tailwindcss').Config</span>} */</span>
<span class="hljs-variable language_">module</span>.<span class="hljs-property">exports</span> = {
  <span class="hljs-attr">darkMode</span>: <span class="hljs-string">'class'</span>,
  <span class="hljs-comment">// ...</span>
}
</code></pre>
<h2 id="2-next-themes"><a href="https://www.davegray.codes/posts/light-dark-mode-nextjs-app-router-tailwind#2-next-themes">2. next-themes</a></h2>
<p>Now you are ready to add <code>next-themes</code> to your project by typing the following in your terminal:</p>
<pre><code class="hljs language-bash">npm i next-themes
</code></pre>
<p>The <a href="https://github.com/pacocoursey/next-themes">next-themes</a> GitHub repository provides directions for use with the Next.js App Router. The directions do not include TypeScript, but I'm adding some TypeScript below.</p>
<p>First, create a <code>providers.tsx</code> file inside your <code>app</code> folder like this:</p>
<pre><code class="hljs language-tsx"><span class="hljs-comment">// app/providers.tsx</span>
<span class="hljs-string">'use client'</span>

<span class="hljs-keyword">import</span> { <span class="hljs-title class_">ThemeProvider</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'next-themes'</span>

<span class="hljs-keyword">export</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">Providers</span>(<span class="hljs-params">{ children }: { children: React.ReactNode }</span>) {
    <span class="hljs-keyword">return</span> <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">ThemeProvider</span> <span class="hljs-attr">attribute</span>=<span class="hljs-string">"class"</span> <span class="hljs-attr">defaultTheme</span>=<span class="hljs-string">'system'</span> <span class="hljs-attr">enableSystem</span>&gt;</span>{children}<span class="hljs-tag">&lt;/<span class="hljs-name">ThemeProvider</span>&gt;</span></span>
}
</code></pre>
<p>Next, add the <code>&lt;Providers&gt;</code> component to your root <code>layout.tsx</code> by placing it <em>inside</em> the <code>&lt;body&gt;</code> tag:</p>
<pre><code class="hljs language-tsx"><span class="hljs-comment">// app/layout.tsx</span>
<span class="hljs-keyword">import</span> { <span class="hljs-title class_">Providers</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'./providers'</span>

<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">RootLayout</span>(<span class="hljs-params">{
  children,
}: {
  children: React.ReactNode
}</span>) {
  <span class="hljs-keyword">return</span> (
    <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">html</span> <span class="hljs-attr">lang</span>=<span class="hljs-string">"en"</span> <span class="hljs-attr">suppressHydrationWarning</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">body</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">Providers</span>&gt;</span>
            {children}
        <span class="hljs-tag">&lt;/<span class="hljs-name">Providers</span>&gt;</span>
      <span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">html</span>&gt;</span></span>
  )
}
</code></pre>
<h2 id="3-suppresshydrationwarning"><a href="https://www.davegray.codes/posts/light-dark-mode-nextjs-app-router-tailwind#3-suppresshydrationwarning">3. suppressHydrationWarning</a></h2>
<p>Notice the <a href="https://legacy.reactjs.org/docs/dom-elements.html#suppresshydrationwarning">suppressHydrationWarning</a> setting inside the <code>&lt;html&gt;</code> tag. As noted in the GitHub repo for <a href="https://github.com/pacocoursey/next-themes">next-themes</a>, if you do not apply this setting, you will get warnings because the <code>&lt;html&gt;</code> element <em>is being updated</em> by next-themes.</p>
<p>The React docs discuss <a href="https://legacy.reactjs.org/docs/dom-elements.html#suppresshydrationwarning">suppressHydrationWarning</a>. The use of it by <code>next-themes</code> is exactly as intended. You are telling Next.js you want to override what the server may have sent because it <em>does not match</em> the user setting saved in <code>localStorage</code>.</p>
<h2 id="4-usetheme"><a href="https://www.davegray.codes/posts/light-dark-mode-nextjs-app-router-tailwind#4-usetheme">4. useTheme</a></h2>
<p>Your implementation of <code>next-themes</code> is not complete until you create a component allowing users to manually change the themes. I called my component <code>ThemeSwitch.tsx</code>.</p>
<p>Here it is:</p>
<pre><code class="hljs language-tsx"><span class="hljs-comment">// app/components/ThemeSwitch.tsx</span>
<span class="hljs-string">'use client'</span>

<span class="hljs-keyword">import</span> { <span class="hljs-title class_">FiSun</span>, <span class="hljs-title class_">FiMoon</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">"react-icons/fi"</span>
<span class="hljs-keyword">import</span> { useState, useEffect } <span class="hljs-keyword">from</span> <span class="hljs-string">'react'</span>
<span class="hljs-keyword">import</span> { useTheme } <span class="hljs-keyword">from</span> <span class="hljs-string">'next-themes'</span>
<span class="hljs-keyword">import</span> <span class="hljs-title class_">Image</span> <span class="hljs-keyword">from</span> <span class="hljs-string">"next/image"</span>

<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">ThemeSwitch</span>(<span class="hljs-params"></span>) {
  <span class="hljs-keyword">const</span> [mounted, setMounted] = <span class="hljs-title function_">useState</span>(<span class="hljs-literal">false</span>)
  <span class="hljs-keyword">const</span> { setTheme, resolvedTheme } = <span class="hljs-title function_">useTheme</span>()

  <span class="hljs-title function_">useEffect</span>(<span class="hljs-function">() =&gt;</span>  <span class="hljs-title function_">setMounted</span>(<span class="hljs-literal">true</span>), [])

  <span class="hljs-keyword">if</span> (!mounted) <span class="hljs-keyword">return</span> (
    <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">Image</span>
      <span class="hljs-attr">src</span>=<span class="hljs-string">"data:image/svg+xml;base64,PHN2ZyBzdHJva2U9IiNGRkZGRkYiIGZpbGw9IiNGRkZGRkYiIHN0cm9rZS13aWR0aD0iMCIgdmlld0JveD0iMCAwIDI0IDI0IiBoZWlnaHQ9IjIwMHB4IiB3aWR0aD0iMjAwcHgiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHJlY3Qgd2lkdGg9IjIwIiBoZWlnaHQ9IjIwIiB4PSIyIiB5PSIyIiBmaWxsPSJub25lIiBzdHJva2Utd2lkdGg9IjIiIHJ4PSIyIj48L3JlY3Q+PC9zdmc+Cg=="</span>
      <span class="hljs-attr">width</span>=<span class="hljs-string">{36}</span>
      <span class="hljs-attr">height</span>=<span class="hljs-string">{36}</span>
      <span class="hljs-attr">sizes</span>=<span class="hljs-string">"36x36"</span>
      <span class="hljs-attr">alt</span>=<span class="hljs-string">"Loading Light/Dark Toggle"</span>
      <span class="hljs-attr">priority</span>=<span class="hljs-string">{false}</span>
      <span class="hljs-attr">title</span>=<span class="hljs-string">"Loading Light/Dark Toggle"</span>
    /&gt;</span></span>
  )

  <span class="hljs-keyword">if</span> (resolvedTheme === <span class="hljs-string">'dark'</span>) {
    <span class="hljs-keyword">return</span> <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">FiSun</span> <span class="hljs-attr">onClick</span>=<span class="hljs-string">{()</span> =&gt;</span> setTheme('light')} /&gt;</span>
  }

  <span class="hljs-keyword">if</span> (resolvedTheme === <span class="hljs-string">'light'</span>) {
    <span class="hljs-keyword">return</span> <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">FiMoon</span> <span class="hljs-attr">onClick</span>=<span class="hljs-string">{()</span> =&gt;</span> setTheme('dark')} /&gt;</span>
  }

}
</code></pre>
<p>There's a lot going on above, but I'll guide you through.</p>
<p>The goal is to allow users to click an icon to change the theme. If they click the sun icon provided with dark mode, they will switch to light mode, and if they click the moon icon provided with light mode, they will switch to dark mode.</p>
<p>I start by importing the icons I want to use. Then I bring in both <code>useState</code> and <code>useEffect</code> followed by <code>useTheme</code> from <code>next-themes</code> and the <code>&lt;Image&gt;</code> component from Next.js.</p>
<p>You must keep track of the mounted state because you cannot use the <code>setTheme</code> function from the <code>useTheme</code> hook unless you know your code is running in the browser. Without this check, you will get a hydration mismatch warning when initially rendering the component on the server. Components rendering on the server will not use hooks and cannot access client-side <code>localStorage</code>.</p>
<p>You need to set the mount state inside of the <code>useEffect</code> hook that only runs on component mount in the client when it has an empty dependency array. This insures it will only run in the browser.</p>
<p>If the component is <em>not mounted</em>, it renders a placeholder image to avoid <a href="https://web.dev/articles/cls">cumulative layout shift</a>.</p>
<p>If the component <em>is mounted</em>, it checks the <code>resolvedTheme</code> value from the <code>useTheme</code> hook and provides the correct icon.</p>
<p>Note: I did not have to add code for saving the theme choice in <code>localStorage</code>. <code>next-themes</code> handles that for you.</p>
<h2 id="5-end-result"><a href="https://www.davegray.codes/posts/light-dark-mode-nextjs-app-router-tailwind#5-end-result">5. End Result</a></h2>
<p>You should now have a Next.js website that not only applies the user system preference, but also remembers any user changes to the light and dark mode theme preference specifically for your site. Therefore, a user may have a system preference of light mode, but can still choose a default dark mode for your website.</p>
<p>This should <em>not</em> result in a page <a href="https://github.com/pacocoursey/next-themes#the-flash">flash</a>, but the <code>next-themes</code> docs do say your website <em>may still flash in dev mode</em>. Even if so, in production mode, there should be no flash.</p>
<p>I have implemented <code>next-themes</code> with TailwindCSS on <a href="https://www.davegray.codes/">my blog</a> as of this writing. Please check it out if you want to see a deployed example.</p>
<h2 id="video-tutorial"><a href="https://www.davegray.codes/posts/light-dark-mode-nextjs-app-router-tailwind#video-tutorial">Video Tutorial</a></h2>
<div class="aspect-w-16 aspect-h-9"><iframe src="./Light &amp; Dark Mode in Next.js App Router + Tailwind with No Flicker _ Dave Gray_files/7zqI4qMDdg8.html" title="YouTube video player" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share"></iframe></div>
<p>I created a video tutorial based on this article, too.</p>
<p>Check it out!</p></article><section><h3>Related:</h3><div class="flex flex-row flex-wrap gap-x-4 gap-y-0"><a href="https://www.davegray.codes/tags/webdev">webdev</a><a href="https://www.davegray.codes/tags/react">react</a><a href="https://www.davegray.codes/tags/nextjs">nextjs</a><a href="https://www.davegray.codes/tags/tailwindcss">tailwindcss</a><a href="https://www.davegray.codes/tags/blog">blog</a></div></section><p><a href="https://www.davegray.codes/">← Back to home</a></p><p class="pb-9 italic text-sm">Last Updated on <!-- -->December 15, 2023</p></div></main><script src="./Light &amp; Dark Mode in Next.js App Router + Tailwind with No Flicker _ Dave Gray_files/webpack-f1ff3f331bdb6737.js.download" async=""></script><script>(self.__next_f=self.__next_f||[]).push([0]);self.__next_f.push([2,null])</script><script>self.__next_f.push([1,"1:HL[\"/_next/static/media/a48d7de5fcdf911f-s.p.woff2\",\"font\",{\"crossOrigin\":\"\",\"type\":\"font/woff2\"}]\n2:HL[\"/_next/static/css/51a56b232209b0a7.css\",\"style\"]\n3:HL[\"/_next/static/css/5eacd01f773eed7f.css\",\"style\"]\n"])</script><script>self.__next_f.push([1,"4:I[2846,[],\"\"]\n7:I[4707,[],\"\"]\n9:I[6423,[],\"\"]\na:I[8847,[\"972\",\"static/chunks/972-0bc7d00e52d34666.js\",\"455\",\"static/chunks/455-4d462ba41bb36914.js\",\"185\",\"static/chunks/app/layout-e8aa5beb59e55328.js\"],\"Providers\"]\nb:I[2972,[\"972\",\"static/chunks/972-0bc7d00e52d34666.js\",\"654\",\"static/chunks/app/posts/%5BpostId%5D/page-ca6c4f80dfe019e3.js\"],\"\"]\nc:I[1044,[\"972\",\"static/chunks/972-0bc7d00e52d34666.js\",\"455\",\"static/chunks/455-4d462ba41bb36914.js\",\"185\",\"static/chunks/app/layout-e8aa5beb59e55328.js\"],\"default\"]\nf:I[4919,[\"972\",\"static/chunks/972-0bc7d00e52d34666.js\",\"455\",\"static/chunks/455-4d462ba41bb36914.js\",\"185\",\"static/chunks/app/layout-e8aa5beb59e55328.js\"],\"default\"]\n10:I[2602,[\"972\",\"static/chunks/972-0bc7d00e52d34666.js\",\"601\",\"static/chunks/app/error-531c88f60fa6c0c5.js\"],\"default\"]\n11:I[8087,[\"972\",\"static/chunks/972-0bc7d00e52d34666.js\",\"455\",\"static/chunks/455-4d462ba41bb36914.js\",\"185\",\"static/chunks/app/layout-e8aa5beb59e55328.js\"],\"GoogleTagManager\"]\n13:I[1060,[],\"\"]\n8:[\"postId\",\"light-dark-mode-nextjs-app-router-tailwind\",\"d\"]\nd:T518,M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3"])</script><script>self.__next_f.push([1,".3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2ze:T50e,M524.531,69.836a1.5,1.5,0,0,0-.764-.7A485.065,485.065,0,0,0,404.081,32.03a1.816,1.816,0,0,0-1.923.91,337.461,337.461,0,0,0-14.9,30.6,447.848,447.848,0,0,0-134.426,0,309.541,309.541,0,0,0-15.135-30.6,1.89,1.89,0,0,0-1.924-.91A483.689,483.689,0,0,0,116.085,69.137a1.712,1.712,0,0,0-.788.676C39.068,183.651,18.186,294.69,28.43,404.354a2.016,2.016,0,0,0,.765,1.375A487.666,487.666,0,0,0,176.02,479.918a1.9,1.9,0,0,0,2.063-.676A348.2,348.2,0,0,0,208.12,430.4a1.86,1.86,0,0,0-1.019-2.588,321.173,321.173,0,0,1-45.868-21.853,1.885,1.885,0,0,1-.185-3.126c3.082-2.309,6.166-4.711,9.109-7.137a1.819,1.819,0,0,1,1.9-.256c96.229,43.917,200.41,43.917,295.5,0a1.812,1.812,0,0,1,1.924.233c2.944,2.426,6.027,4.851,9.132,7.16a1.884,1.884,0,0,1-.162,3.126,301.407,301.407,0,0,1-45.89,21.83,1.875,1.875,0,0,0-1,2.611,391.055,391.055,0,0,0,30.014,48.815,1.864,1.864,0,0,0,2.063.7A486.048,486.048,0,0,0,610.7,405.729a1.882,1.882,0,0,0,.765-1.352C623.729,277.594,590.933,167.465,524.531,69.836ZM222.491,337.58c-28.972,0-52.844-26.587-52.844-59.239S193.056,219.1,222.491,219.1c29.665,0,53.306,26.82,52.843,59.239C275.334,310.993,251.924,337.58,222.491,337.58Zm195.38,0c-28.971,0-52.843-26.587-52.843-59.239S388.437,219.1,417.871,219.1c29.667,0,53.307,26.82,52.844,59.239C470.715,310.993,447.538,337.58,417.871,337.58Z14:[]\n"])</script><script>self.__next_f.push([1,"0:[\"$\",\"$L4\",null,{\"buildId\":\"qDdW_daMV-WV2Y3yqH96h\",\"assetPrefix\":\"\",\"urlParts\":[\"\",\"posts\",\"light-dark-mode-nextjs-app-router-tailwind\"],\"initialTree\":[\"\",{\"children\":[\"posts\",{\"children\":[[\"postId\",\"light-dark-mode-nextjs-app-router-tailwind\",\"d\"],{\"children\":[\"__PAGE__\",{}]}]}]},\"$undefined\",\"$undefined\",true],\"initialSeedData\":[\"\",{\"children\":[\"posts\",{\"children\":[[\"postId\",\"light-dark-mode-nextjs-app-router-tailwind\",\"d\"],{\"children\":[\"__PAGE__\",{},[[\"$L5\",\"$L6\",[[\"$\",\"link\",\"0\",{\"rel\":\"stylesheet\",\"href\":\"/_next/static/css/5eacd01f773eed7f.css\",\"precedence\":\"next\",\"crossOrigin\":\"$undefined\"}]]],null],null]},[null,[\"$\",\"$L7\",null,{\"parallelRouterKey\":\"children\",\"segmentPath\":[\"children\",\"posts\",\"children\",\"$8\",\"children\"],\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"errorScripts\":\"$undefined\",\"template\":[\"$\",\"$L9\",null,{}],\"templateStyles\":\"$undefined\",\"templateScripts\":\"$undefined\",\"notFound\":\"$undefined\",\"notFoundStyles\":\"$undefined\"}]],null]},[null,[\"$\",\"$L7\",null,{\"parallelRouterKey\":\"children\",\"segmentPath\":[\"children\",\"posts\",\"children\"],\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"errorScripts\":\"$undefined\",\"template\":[\"$\",\"$L9\",null,{}],\"templateStyles\":\"$undefined\",\"templateScripts\":\"$undefined\",\"notFound\":\"$undefined\",\"notFoundStyles\":\"$undefined\"}]],null]},[[[[\"$\",\"link\",\"0\",{\"rel\":\"stylesheet\",\"href\":\"/_next/static/css/51a56b232209b0a7.css\",\"precedence\":\"next\",\"crossOrigin\":\"$undefined\"}]],[\"$\",\"html\",null,{\"lang\":\"en\",\"className\":\"__className_ee270e\",\"suppressHydrationWarning\":true,\"children\":[[\"$\",\"body\",null,{\"children\":[\"$\",\"$La\",null,{\"children\":[[\"$\",\"div\",null,{\"className\":\"bg-background border-b border-border sm:h-[66px] p-2 sticky top-0 z-10\",\"children\":[\"$\",\"div\",null,{\"className\":\"md:px-6 prose prose-xl mx-auto flex justify-between items-center flex-col sm:flex-row sm:h-[50px]\",\"children\":[[\"$\",\"$Lb\",null,{\"href\":\"/\",\"className\":\"no-underline font-bold w-2/5 gap-4 hidden sm:flex dark:text-foreground\",\"children\":[[\"$\",\"$Lc\",null,{}],[\"$\",\"p\",null,{\"className\":\"text-3xl font-bold grid place-content-center my-1\",\"children\":\"Dave Gray\"}]]}],[\"$\",\"nav\",null,{\"className\":\"flex flex-row flex-wrap justify-center items-center sm:justify-evenly align-middle text-3xl sm:text-4x\",\"children\":[[\"$\",\"div\",null,{\"children\":[[\"$\",\"$Lb\",null,{\"className\":\"sm:hidden dark:text-foreground\",\"href\":\"/\",\"children\":[\"$\",\"button\",null,{\"className\":\"inline-flex items-center justify-center whitespace-nowrap text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 hover:bg-accent hover:text-accent-foreground h-10 w-10 rounded-full\",\"aria-label\":\"Home\",\"title\":\"Home\",\"children\":[[\"$\",\"svg\",null,{\"stroke\":\"currentColor\",\"fill\":\"currentColor\",\"strokeWidth\":\"0\",\"viewBox\":\"0 0 576 512\",\"className\":\"w-[24px] h-[24px]\",\"children\":[\"$undefined\",[[\"$\",\"path\",\"0\",{\"d\":\"M280.37 148.26L96 300.11V464a16 16 0 0 0 16 16l112.06-.29a16 16 0 0 0 15.92-16V368a16 16 0 0 1 16-16h64a16 16 0 0 1 16 16v95.64a16 16 0 0 0 16 16.05L464 480a16 16 0 0 0 16-16V300L295.67 148.26a12.19 12.19 0 0 0-15.3 0zM571.6 251.47L488 182.56V44.05a12 12 0 0 0-12-12h-56a12 12 0 0 0-12 12v72.61L318.47 43a48 48 0 0 0-61 0L4.34 251.47a12 12 0 0 0-1.6 16.9l25.5 31A12 12 0 0 0 45.15 301l235.22-193.74a12.19 12.19 0 0 1 15.3 0L530.9 301a12 12 0 0 0 16.9-1.6l25.5-31a12 12 0 0 0-1.7-16.93z\",\"children\":\"$undefined\"}]]],\"style\":{\"color\":\"$undefined\"},\"height\":\"1em\",\"width\":\"1em\",\"xmlns\":\"http://www.w3.org/2000/svg\"}],[\"$\",\"span\",null,{\"className\":\"sr-only\",\"children\":\"Home\"}]]}]}],[\"$\",\"$Lb\",null,{\"className\":\"dark:text-foreground\",\"href\":\"https://www.youtube.com/@DaveGrayTeachesCode\",\"children\":[\"$\",\"button\",null,{\"className\":\"inline-flex items-center justify-center whitespace-nowrap text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 hover:bg-accent hover:text-accent-foreground h-10 w-10 rounded-full\",\"aria-label\":\"YouTube Channel\",\"title\":\"YouTube Channel\",\"children\":[[\"$\",\"svg\",null,{\"stroke\":\"currentColor\",\"fill\":\"currentColor\",\"strokeWidth\":\"0\",\"viewBox\":\"0 0 576 512\",\"className\":\"w-[24px] h-[24px]\",\"children\":[\"$undefined\",[[\"$\",\"path\",\"0\",{\"d\":\"M549.655 124.083c-6.281-23.65-24.787-42.276-48.284-48.597C458.781 64 288 64 288 64S117.22 64 74.629 75.486c-23.497 6.322-42.003 24.947-48.284 48.597-11.412 42.867-11.412 132.305-11.412 132.305s0 89.438 11.412 132.305c6.281 23.65 24.787 41.5 48.284 47.821C117.22 448 288 448 288 448s170.78 0 213.371-11.486c23.497-6.321 42.003-24.171 48.284-47.821 11.412-42.867 11.412-132.305 11.412-132.305s0-89.438-11.412-132.305zm-317.51 213.508V175.185l142.739 81.205-142.739 81.201z\",\"children\":\"$undefined\"}]]],\"style\":{\"color\":\"$undefined\"},\"height\":\"1em\",\"width\":\"1em\",\"xmlns\":\"http://www.w3.org/2000/svg\"}],[\"$\",\"span\",null,{\"className\":\"sr-only\",\"children\":\"YouTube Channel\"}]]}]}],[\"$\",\"$Lb\",null,{\"className\":\"dark:text-foreground\",\"href\":\"https://courses.davegray.codes/\",\"children\":[\"$\",\"button\",null,{\"className\":\"inline-flex items-center justify-center whitespace-nowrap text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 hover:bg-accent hover:text-accent-foreground h-10 w-10 rounded-full\",\"aria-label\":\"Courses\",\"title\":\"Courses\",\"children\":[[\"$\",\"svg\",null,{\"xmlns\":\"http://www.w3.org/2000/svg\",\"width\":24,\"height\":24,\"viewBox\":\"0 0 24 24\",\"fill\":\"none\",\"stroke\":\"currentColor\",\"strokeWidth\":2,\"strokeLinecap\":\"round\",\"strokeLinejoin\":\"round\",\"className\":\"lucide lucide-graduation-cap \",\"children\":[[\"$\",\"path\",\"1ef52a\",{\"d\":\"M22 10v6M2 10l10-5 10 5-10 5z\"}],[\"$\",\"path\",\"1f75yj\",{\"d\":\"M6 12v5c3 3 9 3 12 0v-5\"}],\"$undefined\"]}],[\"$\",\"span\",null,{\"className\":\"sr-only\",\"children\":\"Courses\"}]]}]}],[\"$\",\"$Lb\",null,{\"className\":\"dark:text-foreground\",\"href\":\"https://github.com/gitdagray\",\"children\":[\"$\",\"button\",null,{\"className\":\"inline-flex items-center justify-center whitespace-nowrap text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 hover:bg-accent hover:text-accent-foreground h-10 w-10 rounded-full\",\"aria-label\":\"GitHub\",\"title\":\"GitHub\",\"children\":[[\"$\",\"svg\",null,{\"stroke\":\"currentColor\",\"fill\":\"currentColor\",\"strokeWidth\":\"0\",\"viewBox\":\"0 0 496 512\",\"className\":\"w-[24px] h-[24px]\",\"children\":[\"$undefined\",[[\"$\",\"path\",\"0\",{\"d\":\"$d\",\"children\":\"$undefined\"}]]],\"style\":{\"color\":\"$undefined\"},\"height\":\"1em\",\"width\":\"1em\",\"xmlns\":\"http://www.w3.org/2000/svg\"}],[\"$\",\"span\",null,{\"className\":\"sr-only\",\"children\":\"GitHub\"}]]}]}],[\"$\",\"$Lb\",null,{\"className\":\"dark:text-foreground\",\"href\":\"https://twitter.com/yesdavidgray\",\"children\":[\"$\",\"button\",null,{\"className\":\"inline-flex items-center justify-center whitespace-nowrap text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 hover:bg-accent hover:text-accent-foreground h-10 w-10 rounded-full\",\"aria-label\":\"X-Twitter\",\"title\":\"X-Twitter\",\"children\":[[\"$\",\"svg\",null,{\"stroke\":\"currentColor\",\"fill\":\"currentColor\",\"strokeWidth\":\"0\",\"viewBox\":\"0 0 512 512\",\"className\":\"w-[24px] h-[24px]\",\"children\":[\"$undefined\",[[\"$\",\"path\",\"0\",{\"d\":\"M389.2 48h70.6L305.6 224.2 487 464H345L233.7 318.6 106.5 464H35.8L200.7 275.5 26.8 48H172.4L272.9 180.9 389.2 48zM364.4 421.8h39.1L151.1 88h-42L364.4 421.8z\",\"children\":\"$undefined\"}]]],\"style\":{\"color\":\"$undefined\"},\"height\":\"1em\",\"width\":\"1em\",\"xmlns\":\"http://www.w3.org/2000/svg\"}],[\"$\",\"span\",null,{\"className\":\"sr-only\",\"children\":\"X-Twitter\"}]]}]}]]}],[\"$\",\"div\",null,{\"children\":[[\"$\",\"$Lb\",null,{\"className\":\"dark:text-foreground\",\"href\":\"https://discord.gg/neKghyefqh\",\"children\":[\"$\",\"button\",null,{\"className\":\"inline-flex items-center justify-center whitespace-nowrap text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 hover:bg-accent hover:text-accent-foreground h-10 w-10 rounded-full\",\"aria-label\":\"Discord\",\"title\":\"Discord\",\"children\":[[\"$\",\"svg\",null,{\"stroke\":\"currentColor\",\"fill\":\"currentColor\",\"strokeWidth\":\"0\",\"viewBox\":\"0 0 640 512\",\"className\":\"w-[24px] h-[24px]\",\"children\":[\"$undefined\",[[\"$\",\"path\",\"0\",{\"d\":\"$e\",\"children\":\"$undefined\"}]]],\"style\":{\"color\":\"$undefined\"},\"height\":\"1em\",\"width\":\"1em\",\"xmlns\":\"http://www.w3.org/2000/svg\"}],[\"$\",\"span\",null,{\"className\":\"sr-only\",\"children\":\"Discord\"}]]}]}],[\"$\",\"$Lb\",null,{\"className\":\"dark:text-foreground\",\"href\":\"https://www.patreon.com/davegray\",\"children\":[\"$\",\"button\",null,{\"className\":\"inline-flex items-center justify-center whitespace-nowrap text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 hover:bg-accent hover:text-accent-foreground h-10 w-10 rounded-full\",\"aria-label\":\"Patreon\",\"title\":\"Patreon\",\"children\":[[\"$\",\"svg\",null,{\"stroke\":\"currentColor\",\"fill\":\"none\",\"strokeWidth\":\"2\",\"viewBox\":\"0 0 24 24\",\"strokeLinecap\":\"round\",\"strokeLinejoin\":\"round\",\"className\":\"w-[24px] h-[24px]\",\"children\":[\"$undefined\",[[\"$\",\"path\",\"0\",{\"stroke\":\"none\",\"d\":\"M0 0h24v24H0z\",\"fill\":\"none\",\"children\":\"$undefined\"}],[\"$\",\"path\",\"1\",{\"d\":\"M20 8.408c-.003 -2.299 -1.746 -4.182 -3.79 -4.862c-2.54 -.844 -5.888 -.722 -8.312 .453c-2.939 1.425 -3.862 4.545 -3.896 7.656c-.028 2.559 .22 9.297 3.92 9.345c2.75 .036 3.159 -3.603 4.43 -5.356c.906 -1.247 2.071 -1.599 3.506 -1.963c2.465 -.627 4.146 -2.626 4.142 -5.273z\",\"children\":\"$undefined\"}]]],\"style\":{\"color\":\"$undefined\"},\"height\":\"1em\",\"width\":\"1em\",\"xmlns\":\"http://www.w3.org/2000/svg\"}],[\"$\",\"span\",null,{\"className\":\"sr-only\",\"children\":\"Patreon\"}]]}]}],[\"$\",\"$Lb\",null,{\"className\":\"dark:text-foreground\",\"href\":\"https://www.buymeacoffee.com/davegray\",\"children\":[\"$\",\"button\",null,{\"className\":\"inline-flex items-center justify-center whitespace-nowrap text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 hover:bg-accent hover:text-accent-foreground h-10 w-10 rounded-full\",\"aria-label\":\"Buy Me A Coffee\",\"title\":\"Buy Me A Coffee\",\"children\":[[\"$\",\"svg\",null,{\"xmlns\":\"http://www.w3.org/2000/svg\",\"width\":24,\"height\":24,\"viewBox\":\"0 0 24 24\",\"fill\":\"none\",\"stroke\":\"currentColor\",\"strokeWidth\":2,\"strokeLinecap\":\"round\",\"strokeLinejoin\":\"round\",\"className\":\"lucide lucide-coffee \",\"children\":[[\"$\",\"path\",\"jx4kbh\",{\"d\":\"M17 8h1a4 4 0 1 1 0 8h-1\"}],[\"$\",\"path\",\"1bxrl0\",{\"d\":\"M3 8h14v9a4 4 0 0 1-4 4H7a4 4 0 0 1-4-4Z\"}],[\"$\",\"line\",\"1cr9l3\",{\"x1\":\"6\",\"x2\":\"6\",\"y1\":\"2\",\"y2\":\"4\"}],[\"$\",\"line\",\"170wym\",{\"x1\":\"10\",\"x2\":\"10\",\"y1\":\"2\",\"y2\":\"4\"}],[\"$\",\"line\",\"1c5f70\",{\"x1\":\"14\",\"x2\":\"14\",\"y1\":\"2\",\"y2\":\"4\"}],\"$undefined\"]}],[\"$\",\"span\",null,{\"className\":\"sr-only\",\"children\":\"Buy Me A Coffee\"}]]}]}],[\"$\",\"$Lb\",null,{\"className\":\"dark:text-foreground\",\"href\":\"https://topmate.io/davegray\",\"children\":[\"$\",\"button\",null,{\"className\":\"inline-flex items-center justify-center whitespace-nowrap text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 hover:bg-accent hover:text-accent-foreground h-10 w-10 rounded-full\",\"aria-label\":\"Book a One-on-One Meeting\",\"title\":\"1:1 Meeting\",\"children\":[[\"$\",\"svg\",null,{\"xmlns\":\"http://www.w3.org/2000/svg\",\"width\":24,\"height\":24,\"viewBox\":\"0 0 24 24\",\"fill\":\"none\",\"stroke\":\"currentColor\",\"strokeWidth\":2,\"strokeLinecap\":\"round\",\"strokeLinejoin\":\"round\",\"className\":\"lucide lucide-calendar-plus \",\"children\":[[\"$\",\"path\",\"3spt84\",{\"d\":\"M21 13V6a2 2 0 0 0-2-2H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h8\"}],[\"$\",\"line\",\"m3sa8f\",{\"x1\":\"16\",\"x2\":\"16\",\"y1\":\"2\",\"y2\":\"6\"}],[\"$\",\"line\",\"18kwsl\",{\"x1\":\"8\",\"x2\":\"8\",\"y1\":\"2\",\"y2\":\"6\"}],[\"$\",\"line\",\"xt86sb\",{\"x1\":\"3\",\"x2\":\"21\",\"y1\":\"10\",\"y2\":\"10\"}],[\"$\",\"line\",\"1ttwzi\",{\"x1\":\"19\",\"x2\":\"19\",\"y1\":\"16\",\"y2\":\"22\"}],[\"$\",\"line\",\"1g9955\",{\"x1\":\"16\",\"x2\":\"22\",\"y1\":\"19\",\"y2\":\"19\"}],\"$undefined\"]}],[\"$\",\"span\",null,{\"className\":\"sr-only\",\"children\":\"Book a One-on-One Meeting\"}]]}]}],[\"$\",\"span\",null,{\"className\":\"dark:text-foreground\",\"children\":[\"$\",\"$Lf\",null,{}]}]]}]]}]]}]}],[\"$\",\"main\",null,{\"className\":\"px-4 md:px-6 prose prose-xl prose-slate prose-a:no-underline dark:prose-invert mx-auto\",\"children\":[\"$\",\"$L7\",null,{\"parallelRouterKey\":\"children\",\"segmentPath\":[\"children\"],\"error\":\"$10\",\"errorStyles\":[],\"errorScripts\":[],\"template\":[\"$\",\"$L9\",null,{}],\"templateStyles\":\"$undefined\",\"templateScripts\":\"$undefined\",\"notFound\":[\"$\",\"div\",null,{\"className\":\"text-center\",\"children\":[[\"$\",\"p\",null,{\"className\":\"mt-10\",\"children\":\"Sorry, the requested page does not exist.\"}],[\"$\",\"$Lb\",null,{\"href\":\"/\",\"children\":\"Back to Home\"}]]}],\"notFoundStyles\":[]}]}]]}]}],[\"$\",\"$L11\",null,{\"gtmId\":\"G-570ZF8G2JR\"}]]}]],null],null],\"couldBeIntercepted\":false,\"initialHead\":[null,\"$L12\"],\"globalErrorComponent\":\"$13\",\"missingSlots\":\"$W14\"}]\n"])</script><script>self.__next_f.push([1,"6:[[\"$\",\"div\",null,{\"className\":\"w-full h-full\",\"children\":[\"$\",\"img\",null,{\"className\":\"rounded-lg mx-auto\",\"src\":\"https://raw.githubusercontent.com/gitdagray/my-blogposts/main/images/light-dark-mode-nextjs-app-router-tailwind.png\",\"alt\":\"Light \u0026 Dark Mode in Next.js App Router + Tailwind with No Flicker\",\"title\":\"Light \u0026 Dark Mode in Next.js App Router + Tailwind with No Flicker\",\"width\":1200,\"height\":630,\"loading\":\"eager\",\"style\":{\"maxWidth\":\"100%\",\"height\":\"auto\"}}]}],[\"$\",\"h1\",null,{\"className\":\"text-4xl sm:text-5xl sm:leading-[64px] mt-4 mb-0 break-words\",\"children\":\"Light \u0026 Dark Mode in Next.js App Router + Tailwind with No Flicker\"}],[\"$\",\"p\",null,{\"className\":\"mt-3 mb-0 text-base flex flex-col-reverse sm:flex-row gap-2 sm:gap-4\",\"children\":[[\"$\",\"span\",null,{\"children\":[\"December 4, 2023\",\" by \",[\"$\",\"$Lb\",null,{\"href\":\"/\",\"children\":\"Dave Gray\"}]]}],[\"$\",\"span\",null,{\"children\":\"📖 5 min read\"}]]}],[\"$\",\"div\",null,{\"className\":\"prose-lg sm:prose-2xl sm:leading-[38.4px] break-words\",\"children\":[[\"$\",\"article\",null,{\"children\":[[\"$\",\"p\",null,{\"children\":[\"Applying light and \",[\"$\",\"a\",null,{\"href\":\"https://tailwindcss.com/docs/dark-mode\",\"children\":\"dark mode\"}],\" themes with TailwindCSS is easy. However, if you want to allow users to toggle between light and dark mode themes while also identifying the system preference setting at load time and avoiding a page flicker, things get a little more complicated.\"]}],\"\\n\",[\"$\",\"h2\",null,{\"id\":\"why-this-is-challenging\",\"children\":[\"$\",\"a\",null,{\"href\":\"#why-this-is-challenging\",\"children\":\"Why This Is Challenging\"}]}],\"\\n\",[\"$\",\"p\",null,{\"children\":[\"Next.js \",[\"$\",\"a\",null,{\"href\":\"https://nextjs.org/docs/app/building-your-application/upgrading/app-router-migration#static-site-generation-getstaticprops\",\"children\":\"generates static pages\"}],\" on the server before sending them to the browser (aka \\\"the client\\\"). This helps keep things fast and websites seem snappy, but the server cannot read what user preferences will be. The server has no idea in advance that John prefers light-mode in his browser and Jane prefers dark-mode in her browser.\"]}],\"\\n\",[\"$\",\"p\",null,{\"children\":[\"The best you can do is apply the \",[\"$\",\"a\",null,{\"href\":\"https://tailwindcss.com/docs/dark-mode\",\"children\":\"TailwindCSS dark mode\"}],\" variant in advance that will read the \",[\"$\",\"a\",null,{\"href\":\"https://developer.mozilla.org/en-US/docs/Web/CSS/@media/prefers-color-scheme\",\"children\":\"prefers-color-scheme\"}],\" user system setting and apply the dark mode theme if that is preferred.\"]}],\"\\n\",[\"$\",\"p\",null,{\"children\":[\"When you want to allow a user to manually toggle the light-dark mode theme setting, you need to read the system preference first. If they do toggle the setting, you want to save the new setting in \",[\"$\",\"a\",null,{\"href\":\"https://developer.mozilla.org/en-US/docs/Web/API/Window/localStorage\",\"children\":[\"$\",\"code\",null,{\"children\":\"localStorage\"}]}],\". However, \",[\"$\",\"code\",null,{\"children\":\"localStorage\"}],\" is only available in the browser. Your server components won't be able to read this setting, and this situation can cause a theme \",[\"$\",\"em\",null,{\"children\":\"flash\"}],\" when your site loads due to an incorrect theme being applied for a split second.\"]}],\"\\n\",[\"$\",\"p\",null,{\"children\":[\"Fortunately, the \",[\"$\",\"a\",null,{\"href\":\"https://github.com/pacocoursey/next-themes\",\"children\":\"next-themes\"}],\" package can help avoid this issue while allowing users the ability to toggle between light and dark mode in your Next.js website.\"]}],\"\\n\",[\"$\",\"p\",null,{\"children\":[\"Here's how I applied \",[\"$\",\"code\",null,{\"children\":\"next-themes\"}],\" with TailwindCSS to my blog:\"]}],\"\\n\",[\"$\",\"h2\",null,{\"id\":\"1-edit-your-tailwindcss-config-file\",\"children\":[\"$\",\"a\",null,{\"href\":\"#1-edit-your-tailwindcss-config-file\",\"children\":\"1. Edit your TailwindCSS config file\"}]}],\"\\n\",[\"$\",\"p\",null,{\"children\":[\"You need to make one addition to your \",[\"$\",\"code\",null,{\"children\":\"tailwind.config.ts\"}],\" file if you want to \",[\"$\",\"a\",null,{\"href\":\"https://tailwindcss.com/docs/dark-mode#toggling-dark-mode-manually\",\"children\":\"toggle dark mode manually\"}],\". You must add a \",[\"$\",\"code\",null,{\"children\":\"darkMode\"}],\" setting with a \",[\"$\",\"code\",null,{\"children\":\"class\"}],\" value.\"]}],\"\\n\",[\"$\",\"pre\",null,{\"children\":[\"$\",\"code\",null,{\"className\":\"hljs language-ts\",\"children\":[[\"$\",\"span\",null,{\"className\":\"hljs-comment\",\"children\":\"// tailwind.config.ts \"}],\"\\n\",[\"$\",\"span\",null,{\"className\":\"hljs-comment\",\"children\":[\"/** \",[\"$\",\"span\",null,{\"className\":\"hljs-doctag\",\"children\":\"@type\"}],\" {\",[\"$\",\"span\",null,{\"className\":\"hljs-type\",\"children\":\"import('tailwindcss').Config\"}],\"} */\"]}],\"\\n\",[\"$\",\"span\",null,{\"className\":\"hljs-variable language_\",\"children\":\"module\"}],\".\",[\"$\",\"span\",null,{\"className\":\"hljs-property\",\"children\":\"exports\"}],\" = {\\n  \",[\"$\",\"span\",null,{\"className\":\"hljs-attr\",\"children\":\"darkMode\"}],\": \",[\"$\",\"span\",null,{\"className\":\"hljs-string\",\"children\":\"'class'\"}],\",\\n  \",[\"$\",\"span\",null,{\"className\":\"hljs-comment\",\"children\":\"// ...\"}],\"\\n}\\n\"]}]}],\"\\n\",[\"$\",\"h2\",null,{\"id\":\"2-next-themes\",\"children\":[\"$\",\"a\",null,{\"href\":\"#2-next-themes\",\"children\":\"2. next-themes\"}]}],\"\\n\",[\"$\",\"p\",null,{\"children\":[\"Now you are ready to add \",[\"$\",\"code\",null,{\"children\":\"next-themes\"}],\" to your project by typing the following in your terminal:\"]}],\"\\n\",[\"$\",\"pre\",null,{\"children\":[\"$\",\"code\",null,{\"className\":\"hljs language-bash\",\"children\":\"npm i next-themes\\n\"}]}],\"\\n\",[\"$\",\"p\",null,{\"children\":[\"The \",[\"$\",\"a\",null,{\"href\":\"https://github.com/pacocoursey/next-themes\",\"children\":\"next-themes\"}],\" GitHub repository provides directions for use with the Next.js App Router. The directions do not include TypeScript, but I'm adding some TypeScript below.\"]}],\"\\n\",[\"$\",\"p\",null,{\"children\":[\"First, create a \",[\"$\",\"code\",null,{\"children\":\"providers.tsx\"}],\" file inside your \",[\"$\",\"code\",null,{\"children\":\"app\"}],\" folder like this:\"]}],\"\\n\",[\"$\",\"pre\",null,{\"children\":[\"$\",\"code\",null,{\"className\":\"hljs language-tsx\",\"children\":[[\"$\",\"span\",null,{\"className\":\"hljs-comment\",\"children\":\"// app/providers.tsx\"}],\"\\n\",[\"$\",\"span\",null,{\"className\":\"hljs-string\",\"children\":\"'use client'\"}],\"\\n\\n\",[\"$\",\"span\",null,{\"className\":\"hljs-keyword\",\"children\":\"import\"}],\" { \",[\"$\",\"span\",null,{\"className\":\"hljs-title class_\",\"children\":\"ThemeProvider\"}],\" } \",[\"$\",\"span\",null,{\"className\":\"hljs-keyword\",\"children\":\"from\"}],\" \",[\"$\",\"span\",null,{\"className\":\"hljs-string\",\"children\":\"'next-themes'\"}],\"\\n\\n\",[\"$\",\"span\",null,{\"className\":\"hljs-keyword\",\"children\":\"export\"}],\" \",[\"$\",\"span\",null,{\"className\":\"hljs-keyword\",\"children\":\"function\"}],\" \",[\"$\",\"span\",null,{\"className\":\"hljs-title function_\",\"children\":\"Providers\"}],\"(\",[\"$\",\"span\",null,{\"className\":\"hljs-params\",\"children\":\"{ children }: { children: React.ReactNode }\"}],\") {\\n    \",[\"$\",\"span\",null,{\"className\":\"hljs-keyword\",\"children\":\"return\"}],\" \",[\"$\",\"span\",null,{\"className\":\"xml\",\"children\":[[\"$\",\"span\",null,{\"className\":\"hljs-tag\",\"children\":[\"\u003c\",[\"$\",\"span\",null,{\"className\":\"hljs-name\",\"children\":\"ThemeProvider\"}],\" \",[\"$\",\"span\",null,{\"className\":\"hljs-attr\",\"children\":\"attribute\"}],\"=\",[\"$\",\"span\",null,{\"className\":\"hljs-string\",\"children\":\"\\\"class\\\"\"}],\" \",[\"$\",\"span\",null,{\"className\":\"hljs-attr\",\"children\":\"defaultTheme\"}],\"=\",[\"$\",\"span\",null,{\"className\":\"hljs-string\",\"children\":\"'system'\"}],\" \",[\"$\",\"span\",null,{\"className\":\"hljs-attr\",\"children\":\"enableSystem\"}],\"\u003e\"]}],\"{children}\",[\"$\",\"span\",null,{\"className\":\"hljs-tag\",\"children\":[\"\u003c/\",[\"$\",\"span\",null,{\"className\":\"hljs-name\",\"children\":\"ThemeProvider\"}],\"\u003e\"]}]]}],\"\\n}\\n\"]}]}],\"\\n\",[\"$\",\"p\",null,{\"children\":[\"Next, add the \",[\"$\",\"code\",null,{\"children\":\"\u003cProviders\u003e\"}],\" component to your root \",[\"$\",\"code\",null,{\"children\":\"layout.tsx\"}],\" by placing it \",[\"$\",\"em\",null,{\"children\":\"inside\"}],\" the \",[\"$\",\"code\",null,{\"children\":\"\u003cbody\u003e\"}],\" tag:\"]}],\"\\n\",[\"$\",\"pre\",null,{\"children\":[\"$\",\"code\",null,{\"className\":\"hljs language-tsx\",\"children\":[[\"$\",\"span\",null,{\"className\":\"hljs-comment\",\"children\":\"// app/layout.tsx\"}],\"\\n\",[\"$\",\"span\",null,{\"className\":\"hljs-keyword\",\"children\":\"import\"}],\" { \",[\"$\",\"span\",null,{\"className\":\"hljs-title class_\",\"children\":\"Providers\"}],\" } \",[\"$\",\"span\",null,{\"className\":\"hljs-keyword\",\"children\":\"from\"}],\" \",[\"$\",\"span\",null,{\"className\":\"hljs-string\",\"children\":\"'./providers'\"}],\"\\n\\n\",[\"$\",\"span\",null,{\"className\":\"hljs-keyword\",\"children\":\"export\"}],\" \",[\"$\",\"span\",null,{\"className\":\"hljs-keyword\",\"children\":\"default\"}],\" \",[\"$\",\"span\",null,{\"className\":\"hljs-keyword\",\"children\":\"function\"}],\" \",[\"$\",\"span\",null,{\"className\":\"hljs-title function_\",\"children\":\"RootLayout\"}],\"(\",[\"$\",\"span\",null,{\"className\":\"hljs-params\",\"children\":\"{\\n  children,\\n}: {\\n  children: React.ReactNode\\n}\"}],\") {\\n  \",[\"$\",\"span\",null,{\"className\":\"hljs-keyword\",\"children\":\"return\"}],\" (\\n    \",[\"$\",\"span\",null,{\"className\":\"xml\",\"children\":[[\"$\",\"span\",null,{\"className\":\"hljs-tag\",\"children\":[\"\u003c\",[\"$\",\"span\",null,{\"className\":\"hljs-name\",\"children\":\"html\"}],\" \",[\"$\",\"span\",null,{\"className\":\"hljs-attr\",\"children\":\"lang\"}],\"=\",[\"$\",\"span\",null,{\"className\":\"hljs-string\",\"children\":\"\\\"en\\\"\"}],\" \",[\"$\",\"span\",null,{\"className\":\"hljs-attr\",\"children\":\"suppressHydrationWarning\"}],\"\u003e\"]}],\"\\n      \",[\"$\",\"span\",null,{\"className\":\"hljs-tag\",\"children\":[\"\u003c\",[\"$\",\"span\",null,{\"className\":\"hljs-name\",\"children\":\"body\"}],\"\u003e\"]}],\"\\n        \",[\"$\",\"span\",null,{\"className\":\"hljs-tag\",\"children\":[\"\u003c\",[\"$\",\"span\",null,{\"className\":\"hljs-name\",\"children\":\"Providers\"}],\"\u003e\"]}],\"\\n            {children}\\n        \",[\"$\",\"span\",null,{\"className\":\"hljs-tag\",\"children\":[\"\u003c/\",[\"$\",\"span\",null,{\"className\":\"hljs-name\",\"children\":\"Providers\"}],\"\u003e\"]}],\"\\n      \",[\"$\",\"span\",null,{\"className\":\"hljs-tag\",\"children\":[\"\u003c/\",[\"$\",\"span\",null,{\"className\":\"hljs-name\",\"children\":\"body\"}],\"\u003e\"]}],\"\\n    \",[\"$\",\"span\",null,{\"className\":\"hljs-tag\",\"children\":[\"\u003c/\",[\"$\",\"span\",null,{\"className\":\"hljs-name\",\"children\":\"html\"}],\"\u003e\"]}]]}],\"\\n  )\\n}\\n\"]}]}],\"\\n\",[\"$\",\"h2\",null,{\"id\":\"3-suppresshydrationwarning\",\"children\":[\"$\",\"a\",null,{\"href\":\"#3-suppresshydrationwarning\",\"children\":\"3. suppressHydrationWarning\"}]}],\"\\n\",[\"$\",\"p\",null,{\"children\":[\"Notice the \",[\"$\",\"a\",null,{\"href\":\"https://legacy.reactjs.org/docs/dom-elements.html#suppresshydrationwarning\",\"children\":\"suppressHydrationWarning\"}],\" setting inside the \",[\"$\",\"code\",null,{\"children\":\"\u003chtml\u003e\"}],\" tag. As noted in the GitHub repo for \",[\"$\",\"a\",null,{\"href\":\"https://github.com/pacocoursey/next-themes\",\"children\":\"next-themes\"}],\", if you do not apply this setting, you will get warnings because the \",[\"$\",\"code\",null,{\"children\":\"\u003chtml\u003e\"}],\" element \",[\"$\",\"em\",null,{\"children\":\"is being updated\"}],\" by next-themes.\"]}],\"\\n\",[\"$\",\"p\",null,{\"children\":[\"The React docs discuss \",[\"$\",\"a\",null,{\"href\":\"https://legacy.reactjs.org/docs/dom-elements.html#suppresshydrationwarning\",\"children\":\"suppressHydrationWarning\"}],\". The use of it by \",[\"$\",\"code\",null,{\"children\":\"next-themes\"}],\" is exactly as intended. You are telling Next.js you want to override what the server may have sent because it \",[\"$\",\"em\",null,{\"children\":\"does not match\"}],\" the user setting saved in \",[\"$\",\"code\",null,{\"children\":\"localStorage\"}],\".\"]}],\"\\n\",[\"$\",\"h2\",null,{\"id\":\"4-usetheme\",\"children\":[\"$\",\"a\",null,{\"href\":\"#4-usetheme\",\"children\":\"4. useTheme\"}]}],\"\\n\",[\"$\",\"p\",null,{\"children\":[\"Your implementation of \",[\"$\",\"code\",null,{\"children\":\"next-themes\"}],\" is not complete until you create a component allowing users to manually change the themes. I called my component \",[\"$\",\"code\",null,{\"children\":\"ThemeSwitch.tsx\"}],\".\"]}],\"\\n\",[\"$\",\"p\",null,{\"children\":\"Here it is:\"}],\"\\n\",[\"$\",\"pre\",null,{\"children\":[\"$\",\"code\",null,{\"className\":\"hljs language-tsx\",\"children\":[[\"$\",\"span\",null,{\"className\":\"hljs-comment\",\"children\":\"// app/components/ThemeSwitch.tsx\"}],\"\\n\",[\"$\",\"span\",null,{\"className\":\"hljs-string\",\"children\":\"'use client'\"}],\"\\n\\n\",[\"$\",\"span\",null,{\"className\":\"hljs-keyword\",\"children\":\"import\"}],\" { \",[\"$\",\"span\",null,{\"className\":\"hljs-title class_\",\"children\":\"FiSun\"}],\", \",[\"$\",\"span\",null,{\"className\":\"hljs-title class_\",\"children\":\"FiMoon\"}],\" } \",[\"$\",\"span\",null,{\"className\":\"hljs-keyword\",\"children\":\"from\"}],\" \",[\"$\",\"span\",null,{\"className\":\"hljs-string\",\"children\":\"\\\"react-icons/fi\\\"\"}],\"\\n\",[\"$\",\"span\",null,{\"className\":\"hljs-keyword\",\"children\":\"import\"}],\" { useState, useEffect } \",[\"$\",\"span\",null,{\"className\":\"hljs-keyword\",\"children\":\"from\"}],\" \",[\"$\",\"span\",null,{\"className\":\"hljs-string\",\"children\":\"'react'\"}],\"\\n\",[\"$\",\"span\",null,{\"className\":\"hljs-keyword\",\"children\":\"import\"}],\" { useTheme } \",[\"$\",\"span\",null,{\"className\":\"hljs-keyword\",\"children\":\"from\"}],\" \",[\"$\",\"span\",null,{\"className\":\"hljs-string\",\"children\":\"'next-themes'\"}],\"\\n\",[\"$\",\"span\",null,{\"className\":\"hljs-keyword\",\"children\":\"import\"}],\" \",[\"$\",\"span\",null,{\"className\":\"hljs-title class_\",\"children\":\"Image\"}],\" \",[\"$\",\"span\",null,{\"className\":\"hljs-keyword\",\"children\":\"from\"}],\" \",[\"$\",\"span\",null,{\"className\":\"hljs-string\",\"children\":\"\\\"next/image\\\"\"}],\"\\n\\n\",[\"$\",\"span\",null,{\"className\":\"hljs-keyword\",\"children\":\"export\"}],\" \",[\"$\",\"span\",null,{\"className\":\"hljs-keyword\",\"children\":\"default\"}],\" \",[\"$\",\"span\",null,{\"className\":\"hljs-keyword\",\"children\":\"function\"}],\" \",[\"$\",\"span\",null,{\"className\":\"hljs-title function_\",\"children\":\"ThemeSwitch\"}],\"(\",[\"$\",\"span\",null,{\"className\":\"hljs-params\"}],\") {\\n  \",[\"$\",\"span\",null,{\"className\":\"hljs-keyword\",\"children\":\"const\"}],\" [mounted, setMounted] = \",[\"$\",\"span\",null,{\"className\":\"hljs-title function_\",\"children\":\"useState\"}],\"(\",[\"$\",\"span\",null,{\"className\":\"hljs-literal\",\"children\":\"false\"}],\")\\n  \",[\"$\",\"span\",null,{\"className\":\"hljs-keyword\",\"children\":\"const\"}],\" { setTheme, resolvedTheme } = \",[\"$\",\"span\",null,{\"className\":\"hljs-title function_\",\"children\":\"useTheme\"}],\"()\\n\\n  \",[\"$\",\"span\",null,{\"className\":\"hljs-title function_\",\"children\":\"useEffect\"}],\"(\",[\"$\",\"span\",null,{\"className\":\"hljs-function\",\"children\":\"() =\u003e\"}],\"  \",[\"$\",\"span\",null,{\"className\":\"hljs-title function_\",\"children\":\"setMounted\"}],\"(\",[\"$\",\"span\",null,{\"className\":\"hljs-literal\",\"children\":\"true\"}],\"), [])\\n\\n  \",[\"$\",\"span\",null,{\"className\":\"hljs-keyword\",\"children\":\"if\"}],\" (!mounted) \",[\"$\",\"span\",null,{\"className\":\"hljs-keyword\",\"children\":\"return\"}],\" (\\n    \",[\"$\",\"span\",null,{\"className\":\"xml\",\"children\":[\"$\",\"span\",null,{\"className\":\"hljs-tag\",\"children\":[\"\u003c\",[\"$\",\"span\",null,{\"className\":\"hljs-name\",\"children\":\"Image\"}],\"\\n      \",[\"$\",\"span\",null,{\"className\":\"hljs-attr\",\"children\":\"src\"}],\"=\",[\"$\",\"span\",null,{\"className\":\"hljs-string\",\"children\":\"\\\"data:image/svg+xml;base64,PHN2ZyBzdHJva2U9IiNGRkZGRkYiIGZpbGw9IiNGRkZGRkYiIHN0cm9rZS13aWR0aD0iMCIgdmlld0JveD0iMCAwIDI0IDI0IiBoZWlnaHQ9IjIwMHB4IiB3aWR0aD0iMjAwcHgiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHJlY3Qgd2lkdGg9IjIwIiBoZWlnaHQ9IjIwIiB4PSIyIiB5PSIyIiBmaWxsPSJub25lIiBzdHJva2Utd2lkdGg9IjIiIHJ4PSIyIj48L3JlY3Q+PC9zdmc+Cg==\\\"\"}],\"\\n      \",[\"$\",\"span\",null,{\"className\":\"hljs-attr\",\"children\":\"width\"}],\"=\",[\"$\",\"span\",null,{\"className\":\"hljs-string\",\"children\":\"{36}\"}],\"\\n      \",[\"$\",\"span\",null,{\"className\":\"hljs-attr\",\"children\":\"height\"}],\"=\",[\"$\",\"span\",null,{\"className\":\"hljs-string\",\"children\":\"{36}\"}],\"\\n      \",[\"$\",\"span\",null,{\"className\":\"hljs-attr\",\"children\":\"sizes\"}],\"=\",[\"$\",\"span\",null,{\"className\":\"hljs-string\",\"children\":\"\\\"36x36\\\"\"}],\"\\n      \",[\"$\",\"span\",null,{\"className\":\"hljs-attr\",\"children\":\"alt\"}],\"=\",[\"$\",\"span\",null,{\"className\":\"hljs-string\",\"children\":\"\\\"Loading Light/Dark Toggle\\\"\"}],\"\\n      \",[\"$\",\"span\",null,{\"className\":\"hljs-attr\",\"children\":\"priority\"}],\"=\",[\"$\",\"span\",null,{\"className\":\"hljs-string\",\"children\":\"{false}\"}],\"\\n      \",[\"$\",\"span\",null,{\"className\":\"hljs-attr\",\"children\":\"title\"}],\"=\",[\"$\",\"span\",null,{\"className\":\"hljs-string\",\"children\":\"\\\"Loading Light/Dark Toggle\\\"\"}],\"\\n    /\u003e\"]}]}],\"\\n  )\\n\\n  \",[\"$\",\"span\",null,{\"className\":\"hljs-keyword\",\"children\":\"if\"}],\" (resolvedTheme === \",[\"$\",\"span\",null,{\"className\":\"hljs-string\",\"children\":\"'dark'\"}],\") {\\n    \",[\"$\",\"span\",null,{\"className\":\"hljs-keyword\",\"children\":\"return\"}],\" \",[\"$\",\"span\",null,{\"className\":\"xml\",\"children\":[[\"$\",\"span\",null,{\"className\":\"hljs-tag\",\"children\":[\"\u003c\",[\"$\",\"span\",null,{\"className\":\"hljs-name\",\"children\":\"FiSun\"}],\" \",[\"$\",\"span\",null,{\"className\":\"hljs-attr\",\"children\":\"onClick\"}],\"=\",[\"$\",\"span\",null,{\"className\":\"hljs-string\",\"children\":\"{()\"}],\" =\u003e\"]}],\" setTheme('light')} /\u003e\"]}],\"\\n  }\\n\\n  \",[\"$\",\"span\",null,{\"className\":\"hljs-keyword\",\"children\":\"if\"}],\" (resolvedTheme === \",[\"$\",\"span\",null,{\"className\":\"hljs-string\",\"children\":\"'light'\"}],\") {\\n    \",[\"$\",\"span\",null,{\"className\":\"hljs-keyword\",\"children\":\"return\"}],\" \",[\"$\",\"span\",null,{\"className\":\"xml\",\"children\":[[\"$\",\"span\",null,{\"className\":\"hljs-tag\",\"children\":[\"\u003c\",[\"$\",\"span\",null,{\"className\":\"hljs-name\",\"children\":\"FiMoon\"}],\" \",[\"$\",\"span\",null,{\"className\":\"hljs-attr\",\"children\":\"onClick\"}],\"=\",[\"$\",\"span\",null,{\"className\":\"hljs-string\",\"children\":\"{()\"}],\" =\u003e\"]}],\" setTheme('dark')} /\u003e\"]}],\"\\n  }\\n\\n}\\n\"]}]}],\"\\n\",[\"$\",\"p\",null,{\"children\":\"There's a lot going on above, but I'll guide you through.\"}],\"\\n\",[\"$\",\"p\",null,{\"children\":\"The goal is to allow users to click an icon to change the theme. If they click the sun icon provided with dark mode, they will switch to light mode, and if they click the moon icon provided with light mode, they will switch to dark mode.\"}],\"\\n\",[\"$\",\"p\",null,{\"children\":[\"I start by importing the icons I want to use. Then I bring in both \",[\"$\",\"code\",null,{\"children\":\"useState\"}],\" and \",[\"$\",\"code\",null,{\"children\":\"useEffect\"}],\" followed by \",[\"$\",\"code\",null,{\"children\":\"useTheme\"}],\" from \",[\"$\",\"code\",null,{\"children\":\"next-themes\"}],\" and the \",[\"$\",\"code\",null,{\"children\":\"\u003cImage\u003e\"}],\" component from Next.js.\"]}],\"\\n\",[\"$\",\"p\",null,{\"children\":[\"You must keep track of the mounted state because you cannot use the \",[\"$\",\"code\",null,{\"children\":\"setTheme\"}],\" function from the \",[\"$\",\"code\",null,{\"children\":\"useTheme\"}],\" hook unless you know your code is running in the browser. Without this check, you will get a hydration mismatch warning when initially rendering the component on the server. Components rendering on the server will not use hooks and cannot access client-side \",[\"$\",\"code\",null,{\"children\":\"localStorage\"}],\".\"]}],\"\\n\",[\"$\",\"p\",null,{\"children\":[\"You need to set the mount state inside of the \",[\"$\",\"code\",null,{\"children\":\"useEffect\"}],\" hook that only runs on component mount in the client when it has an empty dependency array. This insures it will only run in the browser.\"]}],\"\\n\",[\"$\",\"p\",null,{\"children\":[\"If the component is \",[\"$\",\"em\",null,{\"children\":\"not mounted\"}],\", it renders a placeholder image to avoid \",[\"$\",\"a\",null,{\"href\":\"https://web.dev/articles/cls\",\"children\":\"cumulative layout shift\"}],\".\"]}],\"\\n\",[\"$\",\"p\",null,{\"children\":[\"If the component \",[\"$\",\"em\",null,{\"children\":\"is mounted\"}],\", it checks the \",[\"$\",\"code\",null,{\"children\":\"resolvedTheme\"}],\" value from the \",[\"$\",\"code\",null,{\"children\":\"useTheme\"}],\" hook and provides the correct icon.\"]}],\"\\n\",[\"$\",\"p\",null,{\"children\":[\"Note: I did not have to add code for saving the theme choice in \",[\"$\",\"code\",null,{\"children\":\"localStorage\"}],\". \",[\"$\",\"code\",null,{\"children\":\"next-themes\"}],\" handles that for you.\"]}],\"\\n\",[\"$\",\"h2\",null,{\"id\":\"5-end-result\",\"children\":[\"$\",\"a\",null,{\"href\":\"#5-end-result\",\"children\":\"5. End Result\"}]}],\"\\n\",[\"$\",\"p\",null,{\"children\":\"You should now have a Next.js website that not only applies the user system preference, but also remembers any user changes to the light and dark mode theme preference specifically for your site. Therefore, a user may have a system preference of light mode, but can still choose a default dark mode for your website.\"}],\"\\n\",[\"$\",\"p\",null,{\"children\":[\"This should \",[\"$\",\"em\",null,{\"children\":\"not\"}],\" result in a page \",[\"$\",\"a\",null,{\"href\":\"https://github.com/pacocoursey/next-themes#the-flash\",\"children\":\"flash\"}],\", but the \",[\"$\",\"code\",null,{\"children\":\"next-themes\"}],\" docs do say your website \",[\"$\",\"em\",null,{\"children\":\"may still flash in dev mode\"}],\". Even if so, in production mode, there should be no flash.\"]}],\"\\n\",[\"$\",\"p\",null,{\"children\":[\"I have implemented \",[\"$\",\"code\",null,{\"children\":\"next-themes\"}],\" with TailwindCSS on \",[\"$\",\"a\",null,{\"href\":\"https://www.davegray.codes/\",\"children\":\"my blog\"}],\" as of this writing. Please check it out if you want to see a deployed example.\"]}],\"\\n\",[\"$\",\"h2\",null,{\"id\":\"video-tutorial\",\"children\":[\"$\",\"a\",null,{\"href\":\"#video-tutorial\",\"children\":\"Video Tutorial\"}]}],\"\\n\",[\"$\",\"div\",null,{\"className\":\"aspect-w-16 aspect-h-9\",\"children\":[\"$\",\"iframe\",null,{\"src\":\"https://www.youtube.com/embed/7zqI4qMDdg8\",\"title\":\"YouTube video player\",\"allow\":\"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share\"}]}],\"\\n\",[\"$\",\"p\",null,{\"children\":\"I created a video tutorial based on this article, too.\"}],\"\\n\",[\"$\",\"p\",null,{\"children\":\"Check it out!\"}]]}],[\"$\",\"section\",null,{\"children\":[[\"$\",\"h3\",null,{\"children\":\"Related:\"}],[\"$\",\"div\",null,{\"className\":\"flex flex-row flex-wrap gap-x-4 gap-y-0\",\"children\":[[\"$\",\"$Lb\",\"0\",{\"href\":\"/tags/webdev\",\"children\":\"webdev\"}],[\"$\",\"$Lb\",\"1\",{\"href\":\"/tags/react\",\"children\":\"react\"}],[\"$\",\"$Lb\",\"2\",{\"href\":\"/tags/nextjs\",\"children\":\"nextjs\"}],[\"$\",\"$Lb\",\"3\",{\"href\":\"/tags/tailwindcss\",\"children\":\"tailwindcss\"}],[\"$\",\"$Lb\",\"4\",{\"href\":\"/tags/blog\",\"children\":\"blog\"}]]}]]}],[\"$\",\"p\",null,{\"children\":[\"$\",\"$Lb\",null,{\"href\":\"/\",\"children\":\"← Back to home\"}]}],[\"$\",\"p\",null,{\"className\":\"pb-9 italic text-sm\",\"children\":[\"Last Updated on \",\"December 15, 2023\"]}]]}]]\n"])</script><script>self.__next_f.push([1,"12:[[\"$\",\"meta\",\"0\",{\"name\":\"viewport\",\"content\":\"width=device-width, initial-scale=1\"}],[\"$\",\"meta\",\"1\",{\"charSet\":\"utf-8\"}],[\"$\",\"title\",\"2\",{\"children\":\"Light \u0026 Dark Mode in Next.js App Router + Tailwind with No Flicker | Dave Gray\"}],[\"$\",\"meta\",\"3\",{\"name\":\"description\",\"content\":\"You can toggle light and dark mode themes in Next.js + TailwindCSS while avoiding a page flicker.\"}],[\"$\",\"meta\",\"4\",{\"name\":\"application-name\",\"content\":\"Dave Gray's Blog\"}],[\"$\",\"meta\",\"5\",{\"name\":\"author\",\"content\":\"Dave Gray\"}],[\"$\",\"link\",\"6\",{\"rel\":\"manifest\",\"href\":\"/manifest.webmanifest\",\"crossOrigin\":\"use-credentials\"}],[\"$\",\"meta\",\"7\",{\"name\":\"generator\",\"content\":\"Next.js\"}],[\"$\",\"meta\",\"8\",{\"name\":\"keywords\",\"content\":\"webdev,react,nextjs,tailwindcss,blog\"}],[\"$\",\"meta\",\"9\",{\"name\":\"referrer\",\"content\":\"origin-when-cross-origin\"}],[\"$\",\"meta\",\"10\",{\"name\":\"creator\",\"content\":\"Dave Gray\"}],[\"$\",\"meta\",\"11\",{\"name\":\"publisher\",\"content\":\"Dave Gray\"}],[\"$\",\"meta\",\"12\",{\"name\":\"robots\",\"content\":\"index, follow\"}],[\"$\",\"meta\",\"13\",{\"name\":\"googlebot\",\"content\":\"index, follow, max-video-preview:-1, max-image-preview:large, max-snippet:-1\"}],[\"$\",\"link\",\"14\",{\"rel\":\"canonical\",\"href\":\"https://www.davegray.codes/posts/light-dark-mode-nextjs-app-router-tailwind\"}],[\"$\",\"link\",\"15\",{\"rel\":\"alternate\",\"type\":\"application/rss+xml\",\"href\":\"https://www.davegray.codes/feed.xml\"}],[\"$\",\"meta\",\"16\",{\"name\":\"google-site-verification\",\"content\":\"py8IGKH0Z-P_AY-wa8R7GiHbXxS12LA_Q3mbD-QmUuk\"}],[\"$\",\"meta\",\"17\",{\"name\":\"yandex-verification\",\"content\":\"953e838be963cb87\"}],[\"$\",\"meta\",\"18\",{\"property\":\"og:title\",\"content\":\"Light \u0026 Dark Mode in Next.js App Router + Tailwind with No Flicker\"}],[\"$\",\"meta\",\"19\",{\"property\":\"og:description\",\"content\":\"You can toggle light and dark mode themes in Next.js + TailwindCSS while avoiding a page flicker.\"}],[\"$\",\"meta\",\"20\",{\"property\":\"og:url\",\"content\":\"https://www.davegray.codes/posts/light-dark-mode-nextjs-app-router-tailwind\"}],[\"$\",\"meta\",\"21\",{\"property\":\"og:site_name\",\"content\":\"Dave Gray's Blog\"}],[\"$\",\"meta\",\"22\",{\"property\":\"og:image\",\"content\":\"https://raw.githubusercontent.com/gitdagray/my-blogposts/main/images/light-dark-mode-nextjs-app-router-tailwind.png\"}],[\"$\",\"meta\",\"23\",{\"property\":\"og:image:secure_url\",\"content\":\"https://raw.githubusercontent.com/gitdagray/my-blogposts/main/images/light-dark-mode-nextjs-app-router-tailwind.png\"}],[\"$\",\"meta\",\"24\",{\"property\":\"og:image:width\",\"content\":\"1200\"}],[\"$\",\"meta\",\"25\",{\"property\":\"og:image:height\",\"content\":\"630\"}],[\"$\",\"meta\",\"26\",{\"property\":\"og:image:alt\",\"content\":\"Preview image for Light \u0026 Dark Mode in Next.js App Router + Tailwind with No Flicker\"}],[\"$\",\"meta\",\"27\",{\"property\":\"og:type\",\"content\":\"article\"}],[\"$\",\"meta\",\"28\",{\"property\":\"article:published_time\",\"content\":\"2023-12-04T00:00:00.000Z\"}],[\"$\",\"meta\",\"29\",{\"property\":\"article:modified_time\",\"content\":\"2023-12-15T00:00:00.000Z\"}],[\"$\",\"meta\",\"30\",{\"property\":\"article:author\",\"content\":\"Dave Gray\"}],[\"$\",\"meta\",\"31\",{\"name\":\"twitter:card\",\"content\":\"summary_large_image\"}],[\"$\",\"meta\",\"32\",{\"name\":\"twitter:site\",\"content\":\"@yesdavidgray\"}],[\"$\",\"meta\",\"33\",{\"name\":\"twitter:creator\",\"content\":\"@yesdavidgray\"}],[\"$\",\"meta\",\"34\",{\"name\":\"twitter:title\",\"content\":\"Light \u0026 Dark Mode in Next.js App Router + Tailwind with No Flicker\"}],[\"$\",\"meta\",\"35\",{\"name\":\"twitter:description\",\"content\":\"You can toggle light and dark mode themes in Next.js + TailwindCSS while avoiding a page flicker.\"}],[\"$\",\"meta\",\"36\",{\"name\":\"twitter:image\",\"content\":\"https://raw.githubusercontent.com/gitdagray/my-blogposts/main/images/light-dark-mode-nextjs-app-router-tailwind.png\"}],[\"$\",\"meta\",\"37\",{\"name\":\"twitter:image:alt\",\"content\":\"Preview image for Light \u0026 Dark Mode in Next.js App Router + Tailwind with No Flicker\"}],[\"$\",\"link\",\"38\",{\"rel\":\"icon\",\"href\":\"/favicon.ico\",\"type\":\"image/x-icon\",\"sizes\":\"48x48\"}],[\"$\",\"link\",\"39\",{\"rel\":\"icon\",\"href\":\"/icon.svg?3c76353a766c6496\",\"type\":\"image/svg+xml\",\"sizes\":\"any\"}],[\"$\",\"link\",\"40\",{\"rel\":\"apple-touch-icon\",\"href\":\"/apple-icon.png?ebbb82dc3cc1b5eb\",\"type\":\"image/png\",\"sizes\":\"180x180\"}],[\"$\",\"meta\",\"41\",{\"name\":\"next-size-adjust\"}]]\n"])</script><script>self.__next_f.push([1,"5:null\n"])</script><script id="_next-gtm-init" data-nscript="afterInteractive">
      (function(w,l){
        w[l]=w[l]||[];
        w[l].push({'gtm.start': new Date().getTime(),event:'gtm.js'});
        
      })(window,'dataLayer');</script><script src="https://www.googletagmanager.com/gtm.js?id=G-570ZF8G2JR" id="_next-gtm" data-ntpc="GTM" data-nscript="afterInteractive"></script><next-route-announcer style="position: absolute;"><template shadowrootmode="open"><div aria-live="assertive" id="__next-route-announcer__" role="alert" style="position: absolute; border: 0px; height: 1px; margin: -1px; padding: 0px; width: 1px; clip: rect(0px, 0px, 0px, 0px); overflow: hidden; white-space: nowrap; overflow-wrap: normal;"></div></template></next-route-announcer></body></html>